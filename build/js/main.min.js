(()=>{var e={868:()=>{document.addEventListener("DOMContentLoaded",(function(){$("#books-table").DataTable({language:{info:"Mostrando _START_ a _END_ de _TOTAL_ libros",infoEmpty:"Mostrando 0 a 0 de 0 libros",infoFiltered:"(filtrado de _MAX_ libros totales)",lengthMenu:"Mostrar _MENU_ libros"},responsive:!0,columnDefs:[{orderable:!1,responsivePriority:1,targets:-1}]})}))},257:()=>{function e(e){const t=("; "+document.cookie).split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}function t(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const r="expires="+o.toUTCString();document.cookie=`${e}=${t}; ${r}; path=/`}function n(){const t=e("cart")?JSON.parse(e("cart")):[],n=document.querySelector("#articulos"),o=document.getElementById("carrito-vacio");if(console.log("Número de elementos en el carrito:",t.length),n.innerHTML="",0===t.length)return o.style.display="block",void console.log("El carrito está vacío.");o.style.display="none",t.forEach((e,t)=>{const o=document.createElement("div");o.classList.add("carrito__articulo"),o.innerHTML=`\n            <input type="hidden" value="${e.id}" name="bookID[]">\n            <img src="build/imagenes/${e.imagen}" alt="Portada" class="carrito__articulo-imagen">\n            <p class="carrito__articulo-titulo">${e.title}</p>\n\n            <div class="cantidad__contenedor-incrementar-decrementar">\n                <i class="fa-solid fa-minus cantidad__btncolor decrement" data-index="${t}"></i>\n                <input id="cantidad-${t}" type="number" placeholder="1" value="${e.cantidad}" min="1" class="cantidad__input" name="bookCant[]" readonly>\n                <i class="fa-solid fa-plus cantidad__btncolor increment" data-index="${t}"></i>\n            </div>\n            \n            <p class="carrito__articulo-precio">$${e.price}</p>\n            <button class="carrito__articulo-eliminar" data-index="${t}">Eliminar</button>\n        `,n.appendChild(o)}),function(e){const t=document.getElementById("cantidad"),n=document.getElementById("precio"),o=document.getElementById("precioIVA"),r=e.reduce((e,t)=>e+t.cantidad,0),a=e.reduce((e,t)=>e+t.cantidad*parseFloat(t.price),0),c=1.16*a;t.textContent=r,n.textContent=a.toFixed(2),o.textContent=c.toFixed(2)}(t),console.log("Elementos del carrito mostrados correctamente.")}document.addEventListener("DOMContentLoaded",(function(){const o=document.querySelector("#articulos");o&&o.addEventListener("click",(function(o){const r=o.target.dataset.index;o.target.classList.contains("decrement")&&void 0!==r&&function(o){const r=e("cart")?JSON.parse(e("cart")):[];o>=0&&o<r.length&&(r[o].cantidad>1&&r[o].cantidad--,t("cart",JSON.stringify(r),7),n())}(parseInt(r)),o.target.classList.contains("increment")&&void 0!==r&&function(o){const r=e("cart")?JSON.parse(e("cart")):[];o>=0&&o<r.length&&(r[o].cantidad++,t("cart",JSON.stringify(r),7),n())}(parseInt(r))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".bookEnlace").forEach(n=>{n.addEventListener("click",(function(){const o={title:n.parentElement.querySelector(".bookTitle").innerText,price:n.parentElement.querySelector(".bookPrice").innerText.replace("$",""),imagen:n.parentElement.querySelector(".bookImage").getAttribute("src").replace("build/imagenes/",""),id:n.parentElement.querySelector(".bookdId").innerText};!function(n){const o=e("cart")?JSON.parse(e("cart")):[],r=o.find(e=>e.title===n.title);r?r.cantidad+=1:(n.cantidad=1,o.push(n)),t("cart",JSON.stringify(o),7)}(o),alert(`¡Se ha agregado "${o.title}" al carrito!`)}))})})),window.location.pathname.includes("carrito.php")&&document.addEventListener("DOMContentLoaded",(function(){n()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".carrito__totales-reiniciar");e&&e.addEventListener("click",(function(){!function(){document.cookie="cart=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",n();const e=document.getElementById("cantidad"),t=document.getElementById("precio"),o=document.getElementById("precioIVA");e.textContent="0",t.textContent="0",o.textContent="0"}()}))})),document.addEventListener("DOMContentLoaded",(function(){const o=document.querySelector("#articulos");o&&o.addEventListener("click",(function(o){if(o.target.classList.contains("carrito__articulo-eliminar")){const r=o.target.dataset.index;null!=r&&function(o){const r=e("cart")?JSON.parse(e("cart")):[];console.log("Antes de eliminar:",r),r.splice(o,1),console.log("Después de eliminar:",r),t("cart",JSON.stringify(r),7),n()}(parseInt(r))}}))}));const o=document.getElementById("botonAtras");o&&o.addEventListener("click",(function(){window.history.back()}))},882:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("formulario-carrito");e&&e.addEventListener("submit",(function(t){t.preventDefault(),confirm("¿Estás seguro de que deseas realizar la siguiente compra?")?e.submit():console.log("El usuario canceló la compra.")}))}))},889:()=>{document.addEventListener("DOMContentLoaded",(function(){$.extend($.fn.dataTable.defaults,{language:{info:"Mostrando _START_ a _END_ de _TOTAL_ entradas",infoEmpty:"Mostrando 0 a 0 de 0 entradas",infoFiltered:"(filtrado de _MAX_ entradas totales)",lengthMenu:"Mostrar _MENU_ entradas",search:"Buscar:",zeroRecords:"No se encontraron registros coincidentes",paginate:{next:"&raquo",previous:"&laquo"}}})}))},357:()=>{(()=>{const e=document.querySelector(".fa-solid.fa-circle-user");e&&e.addEventListener("click",()=>{const e=document.querySelector(".dropwdown");e.classList.toggle("dropwdown-show");const t=window.getComputedStyle(e),n=document.querySelector(".navegacion");"block"===t.getPropertyValue("display")?n.classList.add("navegacion-hide"):n.classList.remove("navegacion-hide")})})()},515:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".eliminarBtn");e&&e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),confirm("¿Estás seguro de que deseas eliminar el libro?")?e.closest("form").submit():console.log("El usuario canceló la eliminación del libro.")}))}))}))},109:()=>{setTimeout((function(){document.querySelectorAll(".invalid-feedback").forEach((function(e){e.style.display="none"}))}),7e3)},414:()=>{(()=>{const e=document.querySelector(".dashboard__enlace-categoria");e&&e.addEventListener("click",()=>{document.querySelector(".dropwdown-sidebar").classList.toggle("dropwdown-show"),console.log("ogl")})})()},485:()=>{(()=>{const e=document.querySelector("#alertElement");if(e){const t=JSON.parse(e.getAttribute("data-response"));console.log(t),Swal.fire({icon:t.type,title:t.title,text:t.message,confirmButtonColor:"#0174F6"})}})()},184:()=>{function e(e){const t=document.getElementById("modalAlerta");document.getElementById("modal-message").textContent=e,t.style.display="block",document.getElementsByClassName("close")[0].addEventListener("click",(function(){t.style.display="none"})),window.addEventListener("click",(function(e){e.target===t&&(t.style.display="none")}))}function t(t,n){return""!==t.trim()||(e(n),!1)}function n(t,n){return!!/^\d+$/.test(t)||(e(n),!1)}function o(t,n){return!(parseInt(t)<0&&(e(n),1))}function r(t,n){return!/\d/.test(t)||(e(n),!1)}const a=document.querySelector("#libro-crear-form");a&&a.addEventListener("submit",(function(e){e.preventDefault(),confirm("¿Estás seguro de que deseas crear el libro?")?function(){const e=document.getElementsByName("bookIsbn")[0].value,r=document.getElementsByName("bookTitle")[0].value,a=document.getElementsByName("bookAuthor")[0].value,c=document.getElementsByName("bookEdition")[0].value,i=document.getElementsByName("bookCategory")[0].value,l=document.getElementsByName("bookPrice")[0].value,d=document.getElementsByName("bookStock")[0].value,s=document.getElementsByName("bookImage")[0].value;return!!(t(e,"Por favor, ingresa el ISBN.")&&t(r,"Por favor, ingresa un título.")&&t(a,"Por favor, ingresa el autor.")&&t(c,"Por favor, ingresa la edición.")&&t(i,"Por favor, ingresa la categoría.")&&t(l,"Por favor, ingresa el precio.")&&o(l,"El precio debe ser un número positivo.")&&t(d,"Por favor, ingresa el stock.")&&n(d,"El stock debe ser un número entero.")&&o(d,"El stock debe ser un número positivo.")&&t(s,"Por favor, selecciona una imagen."))}()?a.submit():e.preventDefault():console.log("El usuario canceló la creación del libro.")}));const c=document.querySelector("#libro-editar-form");c&&c.addEventListener("submit",(function(e){e.preventDefault(),confirm("¿Estás seguro de que deseas editar el libro?")?function(){const e=document.getElementsByName("bookIsbn")[0].value,r=document.getElementsByName("bookTitle")[0].value,a=document.getElementsByName("bookAuthor")[0].value,c=document.getElementsByName("bookEdition")[0].value,i=document.getElementsByName("bookCategory")[0].value,l=document.getElementsByName("bookPrice")[0].value,d=document.getElementsByName("bookStock")[0].value;return!!(t(e,"Por favor, ingresa el ISBN.")&&t(r,"Por favor, ingresa un título.")&&t(a,"Por favor, ingresa el autor.")&&t(c,"Por favor, ingresa la edición.")&&t(i,"Por favor, ingresa la categoría.")&&t(l,"Por favor, ingresa el precio.")&&o(l,"El precio debe ser un número positivo.")&&t(d,"Por favor, ingresa el stock.")&&n(d,"El stock debe ser un número entero.")&&o(d,"El stock debe ser un número positivo."))}()?c.submit():e.preventDefault():console.log("El usuario canceló la edición del libro.")}));const i=document.querySelector(".formulario-contacto");i&&i.addEventListener("submit",(function(n){n.preventDefault(),confirm("¿Estás seguro de que deseas enviar la información?")?function(){const n=document.getElementsByName("texto-nombre")[0].value,o=document.getElementsByName("texto-apellido")[0].value,a=document.getElementsByName("texto-correo")[0].value,c=document.getElementsByName("numero")[0].value,i=document.getElementsByName("mensaje")[0].value;return!!(t(n,"Por favor, ingresa tu nombre.")&&r(n,"Por favor, ingresa un nombre válido.")&&t(o,"Por favor, ingresa tu apellido.")&&r(o,"Por favor, ingresa un apellido válido.")&&t(a,"Por favor, ingresa tu correo.")&&(d=a,/\S+@\S+\.\S+/.test(d)||(e("Por favor, ingresa un correo válido."),0))&&t(c,"Por favor, ingresa tu número de teléfono.")&&(l=c,/^\d{10}$/.test(l)||(e("Por favor, un número de teléfono de 10 dígitos."),0))&&t(i,"Por favor, ingresa un tu mensaje."));var l,d}()?i.submit():n.preventDefault():console.log("El usuario canceló el envio de la información")}))},117:()=>{let e=document.querySelectorAll(".table__accion.table__accion--ver");e&&e.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.closest("tr"),n=t.querySelector(".table__td:nth-child(8)").querySelector(".table__imagen").src;console.log(n);const o=t.querySelector(".table__td:nth-child(1)").textContent,r=t.querySelector(".table__td:nth-child(2)").textContent,a=t.querySelector(".table__td:nth-child(3)").textContent,c=t.querySelector(".table__td:nth-child(4)").textContent,i=t.querySelector(".table__td:nth-child(5)").textContent,l=t.querySelector(".table__td:nth-child(6)").textContent,d=t.querySelector(".table__td:nth-child(7)").textContent,s=window.open("","vtnInformacion","height=500, width=500 ");s.document.open(),s.document.writeln("ISBN: "+o+"<br>"),s.document.writeln("Título: "+r+"<br>"),s.document.writeln("Autor: "+a+"<br>"),s.document.writeln("Edición: "+c+"<br>"),s.document.writeln("Categoría: "+i+"<br>"),s.document.writeln("Precio: "+l+"<br>"),s.document.writeln("Stock: "+d+"<br>");const u=s.document.createElement("img");u.src=n,u.alt=r,s.document.body.appendChild(u),console.log(u),s.document.close(),s.focus()})})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(889),n(868),n(109),n(485),n(357),n(414),n(184),n(515),n(117),n(882),n(257)})()})();
//# sourceMappingURL=main.js.map
